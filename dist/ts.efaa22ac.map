{"version":3,"sources":["src\\ts\\helpers.ts","src\\ts\\index.ts"],"names":[],"mappings":"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","file":"ts.efaa22ac.map","sourceRoot":"..","sourcesContent":["const createElementWithClass = (elementType: string, className: string) => {\r\n    const element = document.createElement(elementType)\r\n    element.classList.add(className)\r\n    return element\r\n}\r\n\r\nconst createElementWithManyClass = (elementType: string, classNames: string[]) => {\r\n    const element = document.createElement(elementType)\r\n    classNames.forEach(classe => {\r\n        element.classList.add(classe)\r\n    })\r\n    return element\r\n}\r\n\r\nconst addElemntsToContainer = <T>(container: any, elements: T[]) => {\r\n    elements.forEach(element => {\r\n        container.appendChild(element)\r\n    })\r\n}\r\n\r\nconst setAttr = (element: HTMLElement, attributes: Record<string, any>, attrContent?: string) => {\r\n    Object.keys(attributes).forEach(attribut => {\r\n      element.setAttribute(attribut, attributes[attribut])\r\n    })\r\n    if(attrContent) element.innerHTML = attrContent\r\n  } \r\n\r\nconst setLoader = () => {\r\n    \r\n   const loader = createElementWithClass('div', 'loader')\r\n   const spanElA = document.createElement('span')\r\n   const spanElB = document.createElement('span')\r\n   const spanElC = document.createElement('span')\r\n   addElemntsToContainer(loader, [spanElA,spanElB,spanElC])\r\n   return loader\r\n}\r\n\r\nconst removeLoader = (container: HTMLElement, elementToAdd: HTMLElement, message: string, time: number) => {\r\n    setTimeout(()=> {\r\n        container.removeChild(elementToAdd)\r\n        container.innerHTML = message\r\n      }, time)\r\n}\r\n\r\nexport { createElementWithClass, createElementWithManyClass, addElemntsToContainer, setAttr, setLoader, removeLoader }","\r\nimport { createElementWithClass, createElementWithManyClass, addElemntsToContainer, setAttr, setLoader, removeLoader } from './helpers'\r\nconst body = document.querySelector<HTMLBodyElement>('.body')!\r\n\r\n// sendMessage\r\nconst createMessageElement = (messType: 'bot' | 'user') => createElementWithManyClass('div', [`chat__${messType}`, 'chat__message'])\r\n\r\n\r\nclass Chatbot {\r\n  input: any\r\n  submitInput: HTMLElement\r\n  chatBtn: HTMLElement\r\n  chatContainer: HTMLElement\r\n  chatQuesBtn: any\r\n  chatQues: HTMLElement\r\n  root: HTMLElement\r\n  chatWindow: HTMLElement\r\n  quesOptions: string[]\r\n  quesReply: string[]\r\n  loader: HTMLElement\r\n\r\n\r\n  constructor(root: HTMLElement = document.body) {\r\n    this.root = root\r\n    this.input = createElementWithClass('input', 'chat__input--field')\r\n    this.submitInput = createElementWithClass('button', 'chat__input--submit')\r\n    this.chatBtn = createElementWithClass('button', 'chat__btn')\r\n    this.loader = setLoader()\r\n    this.chatContainer = createElementWithManyClass('div', ['chat__container', 'active'])\r\n    this.chatQues = createElementWithClass('div', 'chat__ques')\r\n    this.chatWindow = createElementWithClass('div', 'chat__window')\r\n    this.quesOptions = ['Payment declined', 'Payment info', 'Unknown charge', 'Promotions and Deals']\r\n    this.quesReply = ['I am very sorry your card has been declined', 'Your last paymant was $3.000', 'I will transfer you to... ', 'Are special deals for you...  ']\r\n  }\r\n\r\n  init() {\r\n    const welcome = createMessageElement('bot')\r\n    welcome.innerHTML = 'Welcome! Ask me a question so I can help you or chose one of the options:'\r\n    this.chatWindow.appendChild(welcome)\r\n    this.createLayout()\r\n    this.chatEventsHandler()\r\n    this.botQueHandler()\r\n  }\r\n\r\n  setQues(options: string[], replyes: string[]) {\r\n    this.quesOptions = options;\r\n    this.quesReply = replyes;\r\n  }\r\n\r\n  createLayout() {\r\n    // creating elements\r\n    const chatDiv = createElementWithClass('div', 'chat')\r\n    const chatInput = createElementWithClass('form', 'chat__input')\r\n    const chatHeader = createElementWithClass('div', 'chat__header')\r\n    // const chatImg = createElementWithClass('img', 'header__img') \r\n\r\n  \r\n    chatHeader.innerHTML = \"Chat Assistant\"\r\n         \r\n\r\n\r\n    this.chatBtn.innerHTML = 'Chat'\r\n\r\n    setAttr(this.input, { type: 'text', placeholder: 'Ask me question...?' })\r\n    setAttr(this.submitInput, { type: 'submit' }, 'âœ”')\r\n\r\n    //appending element\r\n    this.root.appendChild(chatDiv)\r\n    // chatHeader.appendChild(chatImg)\r\n    addElemntsToContainer(chatDiv, [this.chatBtn, this.chatContainer])\r\n    addElemntsToContainer(this.chatContainer, [chatHeader, this.chatWindow, chatInput])\r\n    addElemntsToContainer(chatInput, [this.input, this.submitInput])\r\n    this.chatWindow.appendChild(this.chatQues)\r\n    \r\n  }\r\n\r\n  botAnswers(question: string) {\r\n    const findAnswer = this.quesOptions.indexOf(question)\r\n    const botMessage = findAnswer === -1 ? 'I\\'m sorry. Chose one of the folowing options: ' : this.quesReply[findAnswer];\r\n    const chatBotMessage = createMessageElement('bot')\r\n\r\n\r\n\r\n    chatBotMessage.appendChild(this.loader)\r\n    this.chatWindow.appendChild(chatBotMessage)\r\n\r\n    removeLoader(chatBotMessage, this.loader, botMessage, 3000)\r\n\r\n    this.resetHeight()\r\n  }\r\n\r\n  botQueHandler() {\r\n    this.quesOptions.forEach((option, i) => {\r\n      const chatQuesBtn = createElementWithClass('button', 'chat__ques-btn')\r\n      chatQuesBtn.innerHTML = option\r\n      \r\n      chatQuesBtn.setAttribute('id', `${i}`)\r\n      chatQuesBtn.addEventListener('click', (e) => this.predominateOptionsHandler(e));\r\n      this.chatQues.appendChild(chatQuesBtn)\r\n    })\r\n  }\r\n\r\n  resetHeight() {\r\n    this.chatWindow.removeChild(this.chatQues)\r\n    setInterval(() => {\r\n      this.chatWindow.appendChild(this.chatQues)\r\n      this.chatWindow.scrollTo(0, this.chatWindow.scrollHeight)\r\n    }, 4000)\r\n  }\r\n\r\n  predominateOptionsHandler(e: any) {\r\n    const chatBotMessage = createMessageElement('bot')\r\n    const chatUserMessage = createMessageElement('user')\r\n    const targetId = +e.target.id\r\n\r\n    chatUserMessage.innerHTML = e.target.innerHTML\r\n\r\n    chatBotMessage.appendChild(this.loader)\r\n    this.chatWindow.append(chatUserMessage, chatBotMessage)\r\n    removeLoader(chatBotMessage, this.loader, this.quesReply[targetId], 3000)\r\n\r\n\r\n    this.resetHeight()\r\n  }\r\n\r\n  chatEventsHandler() {\r\n    this.submitInput.addEventListener('click', (e) => {\r\n      const userQuestion = this.input.value\r\n\r\n      if (userQuestion.length < 4) return\r\n\r\n      const chatUserMessage = createMessageElement('user')\r\n      e.preventDefault()\r\n      const userMessage = userQuestion\r\n      this.input.value = ''\r\n      chatUserMessage.innerHTML = userMessage\r\n      this.chatWindow.appendChild(chatUserMessage)\r\n      this.botAnswers(userMessage);\r\n    })\r\n\r\n    this.chatBtn.addEventListener('click', () => {\r\n      this.chatContainer.classList.toggle('active')\r\n    })\r\n\r\n    window.addEventListener('mouseup', (e) => {\r\n      if (e.target === body) {\r\n        this.chatContainer.classList.remove('active')\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst chat = new Chatbot(body)\r\nchat.init()\r\n"]}