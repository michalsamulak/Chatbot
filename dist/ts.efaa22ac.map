{"version":3,"sources":["src\\ts\\helpers.ts","src\\ts\\index.ts"],"names":[],"mappings":"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","file":"ts.efaa22ac.map","sourceRoot":"..","sourcesContent":["const createElementWithClass = (elementType: string, classesName: string) => {\r\n    const element = document.createElement(elementType)\r\n    element.classList.add(classesName)\r\n    return element\r\n}\r\n\r\nconst createElementWithManyClass = (elementType: string, classesName: string[]) => {\r\n    const element = document.createElement(elementType)\r\n    classesName.forEach(classe => {\r\n        element.classList.add(classe)\r\n    })\r\n    return element\r\n}\r\n\r\nconst addElemntsToContainer = <T>(container: any, elements: T[]) => {\r\n    elements.forEach(element => {\r\n        container.appendChild(element)\r\n    })\r\n}\r\n\r\nconst setAttr = (element: HTMLElement, attributes: Record<string, any>, setContent?: string) => {\r\n    Object.keys(attributes).forEach(attribut => {\r\n      element.setAttribute(attribut, attributes[attribut])\r\n    })\r\n    if(setContent) element.innerHTML = setContent\r\n  } \r\n\r\n\r\nexport { createElementWithClass, createElementWithManyClass, addElemntsToContainer, setAttr }","import { createElementWithClass, createElementWithManyClass, addElemntsToContainer, setAttr } from './helpers'\r\nconst body = document.querySelector<HTMLBodyElement>('.body')!\r\n\r\n// sendMessage\r\nconst createMessageElement = (messType: 'bot' | 'user') => createElementWithManyClass('div', [`chat__${messType}`, 'chat__message'])\r\n\r\n\r\nclass Chatbot {\r\n  input: any\r\n  submitInput: HTMLElement\r\n  chatBtn: HTMLElement\r\n  chatContainer: HTMLElement\r\n  chatQuesBtn: any\r\n  chatQues: HTMLDivElement\r\n  root: HTMLElement\r\n  chatWindow: HTMLElement\r\n  quesOptions: string[]\r\n  quesReply: string[]\r\n\r\n\r\n  constructor(root: HTMLElement = document.body) {\r\n    this.root = root\r\n    this.input = createElementWithClass('input', 'chat__input--field')\r\n    this.submitInput = createElementWithClass('button', 'chat__input--submit')\r\n    this.chatBtn = createElementWithClass('button', 'chat__btn')\r\n\r\n    this.chatContainer = createElementWithManyClass('div', ['chat__container', 'active'])\r\n    this.chatQues = document.createElement('div')\r\n    this.chatWindow = createElementWithClass('div', 'chat__window')\r\n    this.quesOptions = ['Payment declined', 'Payment info', 'Unknown charge', 'Promotions and Deals']\r\n    this.quesReply = ['I am very sorry your card has been declined', 'Your last paymant was $3.000', 'I will transfer you to... ', 'Are special deals for you...  ']\r\n  }\r\n\r\n  init() {\r\n    const welcome = createMessageElement('bot')\r\n    welcome.innerHTML = 'Welcome! Ask me a question so I can help you or chose one of the options:'\r\n    this.chatWindow.appendChild(welcome)\r\n    this.createLayout()\r\n    this.chatEventsHandler()\r\n    this.botQueHandler()\r\n  }\r\n\r\n  createLayout() {\r\n    // creating elements\r\n    const chatDiv = createElementWithClass('div', 'chat')\r\n    const chatInput = createElementWithClass('form', 'chat__input')\r\n\r\n    this.chatBtn.innerHTML = 'Chat'\r\n  \r\n    setAttr(this.input, { type: 'text' , placeholder: 'Ask me question...?'})\r\n    setAttr(this.submitInput, {type: 'submit'}, 'âœ”')\r\n\r\n    //appending element\r\n    this.root.appendChild(chatDiv)\r\n    addElemntsToContainer(chatDiv, [this.chatBtn, this.chatContainer])\r\n    addElemntsToContainer(this.chatContainer, [this.chatWindow, chatInput])\r\n    addElemntsToContainer(chatInput, [this.input, this.submitInput])\r\n    this.chatWindow.appendChild(this.chatQues)\r\n  }\r\n\r\n  botAnswers(question: string) {\r\n    const findAnswer = this.quesOptions.indexOf(question)\r\n    const botMessage = findAnswer === -1 ? 'I\\'m sorry. Chose one of the folowing options: ' : this.quesReply[findAnswer];\r\n    const chatBotMessage = createMessageElement('bot') \r\n    chatBotMessage.innerHTML = botMessage\r\n    this.chatWindow.appendChild(chatBotMessage)\r\n    this.resetHeight()\r\n  }\r\n\r\n  botQueHandler() {\r\n    this.quesOptions.forEach((option, i) => {\r\n      const chatQuesBtn = document.createElement('button')\r\n      chatQuesBtn.innerHTML = option\r\n      chatQuesBtn.setAttribute('id', `${i}`)\r\n      chatQuesBtn.addEventListener('click', (e) => this.predominateOptionsHandler(e));\r\n      this.chatQues.appendChild(chatQuesBtn)\r\n    })\r\n  }\r\n\r\n  resetHeight() {\r\n    this.chatWindow.removeChild(this.chatQues)\r\n    this.chatWindow.appendChild(this.chatQues)\r\n    this.chatWindow.scrollTo(0, this.chatWindow.scrollHeight)\r\n  }\r\n\r\n  predominateOptionsHandler(e: any) {\r\n      const chatBotMessage = createMessageElement('bot')\r\n      const chatUserMessage = createMessageElement('user')\r\n      const targetId = +e.target.id\r\n\r\n      chatUserMessage.innerHTML = e.target.innerHTML\r\n      chatBotMessage.innerHTML = this.quesReply[targetId]\r\n      this.chatWindow.append(chatUserMessage, chatBotMessage)\r\n\r\n      this.resetHeight()\r\n  }\r\n\r\n  chatEventsHandler() {\r\n    this.submitInput.addEventListener('click', (e) => {\r\n      const userQuestion = this.input.value\r\n\r\n      if(userQuestion.length < 4) return\r\n\r\n      \r\n      const chatUserMessage = createMessageElement('user')\r\n      e.preventDefault()\r\n      const userMessage = userQuestion\r\n      this.input.value = ''\r\n      chatUserMessage.innerHTML = userMessage\r\n      this.chatWindow.appendChild(chatUserMessage)\r\n      this.botAnswers(userMessage);\r\n    })\r\n\r\n    this.chatBtn.addEventListener('click', () => {\r\n      this.chatContainer.classList.toggle('active')\r\n    })\r\n\r\n    window.addEventListener('mouseup', (e) => {\r\n      if (e.target === body) {\r\n        this.chatContainer.classList.remove('active')\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst chat = new Chatbot(body)\r\nchat.init()\r\n"]}